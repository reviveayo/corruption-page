<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>You unleashed something... Law of the ONE // ERROR</title>
<style>
  :root{--bg:#0b0b0c;--accent:#9df;--error:#ff2d55}
  html,body{height:100%;margin:0;background:#000;color:#e6eef8;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;}
  /* fake fandom layout */
  .wrap{max-width:1100px;margin:40px auto;padding:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.1));border-radius:6px;position:relative;overflow:hidden}
  header{display:flex;align-items:center;gap:16px}
  .logo{width:64px;height:64px;background:linear-gradient(135deg,#111,#222);border-radius:6px;display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff}
  h1{font-size:20px;margin:0}
  .subtitle{font-size:12px;color:#9fb}

  main{display:grid;grid-template-columns:1fr 300px;gap:18px;margin-top:18px}
  .content{background:rgba(255,255,255,0.01);padding:18px;border-radius:6px;min-height:400px}
  .sidebar{background:rgba(255,255,255,0.01);padding:12px;border-radius:6px;min-height:400px}

  /* glitch text */
  .glitch{position:relative;display:inline-block}
  .glitch::before,.glitch::after{content:attr(data-text);position:absolute;left:0;top:0;pointer-events:none}
  .glitch::before{color:var(--accent);transform:translate3d(-2px,0,0);mix-blend-mode:screen;opacity:0.9;clip-path:polygon(0 0,100% 0,100% 45%,0 50%)}
  .glitch::after{color:#f8c;transform:translate3d(2px,0,0);mix-blend-mode:screen;opacity:0.85;clip-path:polygon(0 50%,100% 45%,100% 100%,0 100%)}
  .glitch span{display:inline-block}

  /* melting / break animations */
  .break-apart .logo{animation:logo-slide 3s ease-in-out 1 forwards}
  .break-apart header{animation:hdr-twitch 3s ease-in-out 1 forwards}
  .break-apart .content{animation:content-melt 4s ease-in-out 1 forwards}
  .break-apart .sidebar{animation:sidebar-sag 4s ease-in-out 1 forwards}

  @keyframes logo-slide{0%{transform:none}40%{transform:translateX(-6px) rotate(-3deg)}100%{transform:translate(-80px,-40px) rotate(-14deg) scale(.7);opacity:.15}}
  @keyframes hdr-twitch{0%{transform:none}20%{transform:translateY(-6px)}45%{transform:translateY(6px) rotate(1deg)}100%{transform:translate(-40px,-10px) rotate(-6deg);opacity:.2}}
  @keyframes content-melt{0%{filter:none;transform:none}30%{transform:skewX(-1deg)}60%{transform:skewX(6deg) translateY(20px)}100%{transform:translateY(120px) scaleY(.85);filter:blur(2px) saturate(.7);opacity:.35}}
  @keyframes sidebar-sag{0%{transform:none}40%{transform:translateY(10px) skewY(4deg)}100%{transform:translate(120px,140px) rotate(8deg);opacity:.2}}

  /* fake error overlay */
  .overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none}
  .error-modal{background:rgba(0,0,0,0.8);border:1px solid rgba(255,0,0,0.12);padding:24px;border-radius:8px;backdrop-filter:blur(4px);text-align:center;max-width:640px;opacity:0}
  .error-modal.show{pointer-events:auto;opacity:1;animation:modal-pop .8s ease-out}
  .error-title{font-size:22px;color:var(--error);margin-bottom:8px}
  .error-body{font-family:monospace;margin:0;white-space:pre-wrap;text-align:left}
  @keyframes modal-pop{from{transform:scale(.96) translateY(-10px);opacity:0}to{transform:none;opacity:1}}

  /* console box */
  .console{position:fixed;left:12px;bottom:12px;width:420px;max-height:260px;overflow:auto;background:rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.04);padding:12px;font-family:monospace;font-size:12px;border-radius:6px}
  .console .line{color:#aee;opacity:.95}
  .console .err{color:var(--error);font-weight:700}

  /* static background */
  .static-bg{position:fixed;inset:0;z-index:-1;opacity:.85;background:repeating-linear-gradient(0deg, rgba(255,255,255,0.02) 0 1px, transparent 1px 3px);mix-blend-mode:screen;filter:contrast(1.3) brightness(.6);pointer-events:none}
  .noise{position:absolute;inset:0;background-image:var(--noise);opacity:.25;animation:noiseShift 3s linear infinite}
  @keyframes noiseShift{from{transform:translateY(0)}to{transform:translateY(-200px)}}

  /* tiny UI bits */
  .muted{opacity:.6;font-size:13px}
  a{color:var(--accent)}

  /* responsive */
  @media(max-width:800px){main{grid-template-columns:1fr} .console{width:calc(100% - 24px);left:12px;right:12px}}
</style>
</head>
<body>
<div class="static-bg">
  <canvas id="staticCanvas" class="noise"></canvas>
</div>
<div class="wrap" id="pageWrap">
  <header>
    <div class="logo">LOT1</div>
    <div>
      <h1 class="glitch" data-text="You unleashed something..."> <span>You unleashed something...</span></h1>
      <div class="subtitle">Law of the ONE // ERROR</div>
    </div>
  </header>

  <main>
    <section class="content" id="contentArea">
      <h2 class="glitch" data-text="Corruption">
        <span>Corruption</span>
      </h2>
      <p class="muted">This page contains unstable data. Proceeding may cause visual corruption.</p>
      <p>Lorem ipsum dolor sit amet — content is intentionally placeholder. As the infection spreads this text will distort and sections will collapse into unreadable fragments.</p>
      <p class="muted">If you reached this page from the wiki, <strong>do not refresh</strong>. Corruption prefers refreshes.</p>
    </section>

    <aside class="sidebar" id="sideArea">
      <strong>Sidebar</strong>
      <p class="muted">— Known aliases: THE SHIFT, GLITCH</p>
      <p class="muted">— Probability of containment: <span id="stability">78%</span></p>
      <p class="muted">— Reports: <a href="#">report anomaly</a></p>
    </aside>
  </main>

  <div class="overlay" id="overlayArea">
    <div class="error-modal" id="errorModal">
      <div class="error-title">SYSTEM COMPROMISED</div>
      <div class="error-body" id="errorBody">Initializing...

[ERROR CODE: 0xC0RRUPT]
Attempting to isolate corrupted fragments...</div>
    </div>
  </div>

</div>

<div class="console" id="consoleBox" aria-live="polite"></div>

<script>
// ---------- Static noise canvas ----------
const canvas = document.getElementById('staticCanvas');
const ctx = canvas.getContext('2d');
function resize(){canvas.width=innerWidth;canvas.height=innerHeight}
resize();window.addEventListener('resize',resize);
function drawNoise(){
  const w=canvas.width,h=canvas.height;
  const img=ctx.createImageData(w,50);
  for(let i=0;i<img.data.length;i+=4){
    const v=(Math.random()*255)|0;
    img.data[i]=v;img.data[i+1]=v;img.data[i+2]=v;img.data[i+3]=40;
  }
  ctx.clearRect(0,0,w,h);
  for(let y=0;y<h;y+=50){ctx.putImageData(img,0,y)}
}
setInterval(drawNoise,120);
// ---------- Glitch triggers ----------
const wrap=document.getElementById('pageWrap');
const modal=document.getElementById('errorModal');
const consoleBox=document.getElementById('consoleBox');
const stability=document.getElementById('stability');

let st=78;
function pushLine(txt,cls){const el=document.createElement('div');el.className='line '+(cls||'');el.textContent=txt;consoleBox.appendChild(el);consoleBox.scrollTop=consoleBox.scrollHeight}

// initial lines
pushLine('[CORRUPTION.LOG] Bootstrapping...');
pushLine('[SYSTEM] Resources nominal');

// timed corruption
setTimeout(()=>{
  wrap.classList.add('break-apart');
  pushLine('[CORRUPTION.LOG] Injecting false data...');
  pushLine('[SYSTEM WARNING] Stability dropping');
  degrade();
  setTimeout(()=>{modal.classList.add('show');},800);
},2000);

function degrade(){
  const id=setInterval(()=>{
    st=Math.max(0,st - (Math.random()*8));
    stability.textContent=Math.round(st)+'%';
    pushLine('[STATUS] Stability: '+Math.round(st)+'%');
    if(st<30){pushLine('[ERROR] YOU SHOULD NOT BE HERE','err')}
    if(st<=5){pushLine('[CORRUPTION.LOG] Full manifesting...','err');clearInterval(id);}
  },900);
}

// corrupt text flicker
function flicker(selector, times=6){
  const el=document.querySelectorAll(selector);
  for(const e of el){
    let i=0;const t=setInterval(()=>{
      e.style.opacity=(Math.random()*0.7+0.25).toFixed(2);
      e.style.transform='translateX('+((Math.random()-0.5)*6)+'px) skewX('+((Math.random()-0.5)*6)+'deg)';
      i++;if(i>times){clearInterval(t);e.style.opacity=1;e.style.transform='none'}} ,80);
  }
}
setInterval(()=>flicker('.glitch span',3),2200);

// random fake errors
const errors=[
  'ERR_READONLY: Resource locked.',
  'SEGFAULT: Memory access violation at 0x00FFAA',
  '0xC0RRUPT: Unknown payload detected',
  'STACK_OVERFLOW: Recursive thought detected',
  'UNAUTHORIZED: Access denied to /lore/forbidden'
];
setInterval(()=>{pushLine('[CONSOLE] '+errors[(Math.random()*errors.length)|0]);},4200);

// make links behave oddly
document.addEventListener('click',e=>{
  const a=e.target.closest('a');
  if(a){e.preventDefault();pushLine('[LINK HOOK] Prevented navigation to '+(a.href||a.textContent),'err');flicker('.content p',4);}
});

// ---------- WebAudio ambient hum & beeps ----------
const AudioCtx = window.AudioContext || window.webkitAudioContext;
if(AudioCtx){
  const ac=new AudioCtx();
  const master=ac.createGain();master.gain.value=0.15;master.connect(ac.destination);
  // low ambient drone
  const o1=ac.createOscillator();o1.type='sine';o1.frequency.value=40;
  const o2=ac.createOscillator();o2.type='sine';o2.frequency.value=55;
  const g1=ac.createGain();g1.gain.value=0.0;g1.connect(master);
  o1.connect(g1);o2.connect(g1);
  o1.start();o2.start();
  // slowly ramp up
  g1.gain.linearRampToValueAtTime(0.04,ac.currentTime+2);

  // noisy texture via ScriptProcessor replacement: create buffer
  const bufferSize=2*ac.sampleRate;const noiseBuf=ac.createBuffer(1,bufferSize,ac.sampleRate);
  const data=noiseBuf.getChannelData(0);for(let i=0;i<bufferSize;i++){data[i]=(Math.random()*2-1)*0.08}
  const nb=ac.createBufferSource();nb.buffer=noiseBuf;nb.loop=true;const nbGain=ac.createGain();nbGain.gain.value=0.02;nb.connect(nbGain);nbGain.connect(master);nb.start();

  // occasional beeps
  function beep(){
    const t=ac.currentTime;const osc=ac.createOscillator();osc.type='square';osc.frequency.value=350+Math.random()*400;const g=ac.createGain();g.gain.value=0.0001;g.gain.exponentialRampToValueAtTime(0.12,t+0.02);g.gain.exponentialRampToValueAtTime(0.0001,t+0.5);
    osc.connect(g);g.connect(master);osc.start();osc.stop(t+0.6);
  }
  // schedule random beeps as corruption notices
  setInterval(()=>{if(Math.random()>0.6)beep();},2500);

  // user gesture to unmute on some browsers
  const startAudio = ()=>{ac.resume();document.removeEventListener('click',startAudio);pushLine('[AUDIO] ambient engaged')};
  document.addEventListener('click',startAudio);
}

// small extra: shake the whole viewport occasionally
setInterval(()=>{document.body.style.transform='translate('+((Math.random()-0.5)*6)+'px,'+((Math.random()-0.5)*6)+'px)';setTimeout(()=>{document.body.style.transform='none'},160)},5200);

</script>
</body>
</html>
